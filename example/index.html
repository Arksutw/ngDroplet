<!DOCTYPE html>
<html>
<head>

    <title>ngDroplet</title>

    <!-- Dependencies! -->
    <script type="text/javascript" src="js/vendor/angular/angular.js"></script>
    <script type="text/javascript" src="js/vendor/ng-droplet/ng-droplet.js"></script>

    <!-- Styles! -->
    <link rel="stylesheet" type="text/css" href="css/Default.css" />
    <link href="http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic" rel="stylesheet" type="text/css">

    <!-- Application! -->
    <script type="text/javascript" src="js/app/Default.js"></script>

</head>
<body ng-app="dropletApp" class="colourful">

    <section class="container">

        <section class="droplet" ng-controller="IndexController" ng-class="{ uploading: interface.isUploading() }">

            <h1><a target="_blank" href="https://github.com/Wildhoney/ngDroplet">ngDroplet</a></h1>

            <ul class="statistics">
                <li><label>Valid:</label> {{interface.getFiles(interface.FILE_TYPES.VALID).length}}</li>
                <li><label>Invalid:</label> {{interface.getFiles(interface.FILE_TYPES.INVALID).length}}</li>
                <li><label>Uploaded:</label> {{interface.getFiles(interface.FILE_TYPES.UPLOADED).length}}</li>
                <li><label>Deleted:</label> {{interface.getFiles(interface.FILE_TYPES.DELETED).length}}</li>
                <li><label>Total:</label> {{interface.getFiles().length}}</li>
            </ul>

            <section class="toolbar">

                <input type="button" class="button upload-files" value="Upload Files"
                       ng-click="interface.uploadFiles()"
                       ng-hide="interface.isUploading()"
                       ng-class="{ clickable: interface.isReady() }" />

                <input type="button" class="button upload-files" value="Uploading..." ng-show="interface.isUploading()" />

                <div class="add-files">
                    <input type="button" class="button add-files" value="Add Files..." />
                    <droplet-upload-multiple ng-model="interface"></droplet-upload-multiple>
                </div>

                <comment class="progress" ng-class="{ visible: interface.isUploading() }">
                    Uploaded: <span>{{interface.progress.percent}}%</span>
                </comment>

            </section>

            <droplet ng-model="interface">

                <comment></comment>

                <section class="message success" ng-class="{ visible: success }" ng-click="success = false">
                    Successfully uploaded {{uploadCount}} files.
                </section>

                <section class="message error" ng-class="{ visible: error }" ng-click="error = false">
                    Failed to upload any of the files.
                </section>

                <ul class="files">

                    <li ng-repeat="model in interface.getFiles(interface.FILE_TYPES.VALID)">

                        <div class="container">

                            <div class="card">

                                <figure class="front">
                                    <droplet-preview ng-model="model"></droplet-preview>
                                </figure>

                                <figure class="back">
                                    <div><label>Size:</label> {{model.file.size / 1024 / 1024 | number: 2}}MB</div>
                                    <div><label>MIME:</label> {{model.mimeType}}</div>
                                    <div><label>Extension:</label> {{model.extension}}</div>
                                    <div><a class="delete" ng-click="model.deleteFile()">Delete File</a></div>
                                </figure>

                            </div>

                        </div>

                    </li>

                </ul>

            </droplet>

        </section>

    </section>

</body>
</html>